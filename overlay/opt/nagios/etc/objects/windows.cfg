define host {
  use       windows-server
  host_name dc.lab.local
  address   192.168.1.200
  parents	  lab.local 
  check_command check_ping!200.0,20%!600.0,60%
}

define host {
  use       windows-server
  host_name sql.lab.local
  address   192.168.1.207
  parents	  lab.local
  check_command check_ping!200.0,20%!600.0,60%
}

define host {
  use       windows-server
  host_name ex.lab.local
  address   192.168.1.205
  parents	  lab.local
  check_command check_ping!200.0,20%!600.0,60%
}

define host {
  use       windows-server
  host_name mgm.lab.local
  address   192.168.1.220
  parents	  lab.local
  check_command check_ping!200.0,20%!600.0,60%
}

define host {
  use       windows-server
  host_name tv.lab.local
  address   192.168.1.200
  parents	  lab.local
  check_command check_ping!200.0,20%!600.0,60%
}
define service {
    host_name                sql.lab.local
    service_description      CPU Usage
    use                      ncpa_service
    check_command            check_ncpa! -t 'L3tM3inN0w' -P 5693 -M cpu/percent -w 20 -c 40 -q 'aggregate=avg'
    max_check_attempts       5
    check_interval           5
    retry_interval           1
    check_period             24x7
    notification_interval    60
    notification_period      24x7
    contacts                 nagiosadmin
    _xiwizard                ncpa
    register                 1
    servicegroups            windows-services		; Use the default service group template

}
define service {
    host_name                sql.lab.local
    service_description      Disk Usage on C:/
    use                      ncpa_service
    check_command            check_ncpa!-t 'L3tM3inN0w' -P 5693 -M 'disk/logical/C:|' -w 80 -c 90
    max_check_attempts       5
    check_interval           5
    retry_interval           1
    check_period             24x7
    notification_interval    60
    notification_period      24x7
    contacts                 nagiosadmin
    _xiwizard                ncpa
    register                 1
}
define service {
    host_name                ex.lab.local
    service_description      Disk Usage on D:/
    use                      ncpa_service
    check_command            check_ncpa!-t 'L3tM3inN0w' -P 5693 -M 'disk/logical/D:|' -w 80 -c 90
    max_check_attempts       5
    check_interval           5
    retry_interval           1
    check_period             24x7
    notification_interval    60
    notification_period      24x7
    contacts                 nagiosadmin
    _xiwizard                ncpa
    register                 1
}
define service{
  use                 generic-service,graphed-service
  host_name           mgm.lab.local
  service_description PING
  check_command       check_ping!200.0,20%!600.0,60%
}
define service{
  use                 generic-service,graphed-service
  host_name           tv.lab.local
  service_description PING
  check_command       check_ping!200.0,20%!600.0,60%
}
define service {
    host_name               sql.lab.local
    service_description     LAB Bandwidth - Inbound
    use                     ncpa_service
    check_command           check_ncpa!-t 'L3tM3inN0w' -P 5693 -M 'interface/LAB/bytes_recv' -d -u M -w 10 -c 100
    servicegroups           windows-services
}

define service {
    host_name                sql.lab.local
    service_description      LAB Bandwidth - Outbound
    use                      ncpa_service
    check_command            check_ncpa!-t 'L3tM3inN0w' -P 5693 -M 'interface/LAB/bytes_sent' -d -u M -w 10 -c 100
    max_check_attempts       5
    check_interval           5
    retry_interval           1
    check_period             24x7
    notification_interval    60
    notification_period      24x7
    contacts                 nagiosadmin
    _xiwizard                ncpa
    register                 1
    servicegroups            windows-services
}

define service {
    host_name                sql.lab.local
    service_description      Memory Usage
    use                      ncpa_service
    check_command            check_ncpa!-t 'L3tM3inN0w' -P 5693 -M memory/virtual -u Gi -w 70 -c 90
    max_check_attempts       5
    check_interval           5
    retry_interval           1
    check_period             24x7
    notification_interval    60
    notification_period      24x7
    contacts                 nagiosadmin
    _xiwizard                ncpa
    register                 1
    servicegroups            windows-services
}

define service {
    host_name                sql.lab.local
    service_description      Service status for: Windows Update
    use                      ncpa_service
    check_command            check_ncpa!-t 'L3tM3inN0w' -P 5693 -M 'services' -q 'service=wuauserv,status=running'
    max_check_attempts       5
    check_interval           5
    retry_interval           1
    check_period             24x7
    notification_interval    60
    notification_period      24x7
    contacts                 nagiosadmin
    _xiwizard                ncpa
    register                 1
    servicegroups            windows-services
}

define service {
    host_name                sql.lab.local
    service_description      Swap Usage
    use                      ncpa_service
    check_command            check_ncpa!-t 'L3tM3inN0w' -P 5693 -M memory/swap -u Gi -w 80 -c 90
    max_check_attempts       5
    check_interval           5
    retry_interval           1
    check_period             24x7
    notification_interval    60
    notification_period      24x7
    notifications_enabled    1
    contacts                 nagiosadmin
    _xiwizard                ncpa
    register                 1
    servicegroups            windows-services
}

define hostgroup {
  hostgroup_name windows-servers
  alias          Windows Servers
}

define hostgroup{
  hostgroup_name  lab-servers
  alias           LAB Servers
  members         dc.lab.local,sql.lab.local,ex.lab.local,mgm.lab.local,tv.lab.local,rpi4-1.local,rpi4-2.local,rpi4-3.local,rpi4-4.local
}

define hostgroup {
  hostgroup_name prod-servers
  alias          Prodcution Servers
  members        nagios.docker
}